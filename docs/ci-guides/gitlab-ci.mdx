---
title: GitLab CI
id: gitlab-ci
slug: /gitlab-ci
sidebar_position: 50
---

import { InstallCliCommand, WhyArgosToken, Enjoy } from "@site/src/partials";

# Use Argos with GitLab CI

Configure [GitLab CI](https://docs.gitlab.com/ee/ci/) to send screenshots to Argos visual testing platform.

## 1. Install `@argos-ci/cli`

<InstallCliCommand />

## 2. Set `ARGOS_TOKEN` as CI secret

<WhyArgosToken />

- **Step 1: Get the token value**<br/>
  On Argos, go to the repository you want to set and click on the "settings" tab. Store the ARGOS_TOKEN value.

- **Step 2: Create a secret in your CI**<br/>
  In your GitLab repository, go to **Settings > CI/CD** and then expand the Variables section. Set the `ARGOS_TOKEN` as an environment variable and paste the value you stored in the previous step.

> If you are not comfortable with storing secret, read Gitlab CI documentation about [adding a CI/CD variable to a project](https://docs.gitlab.com/ee/ci/variables/#add-a-cicd-variable-to-a-project).

## 3. Upload the screenshots

Add the following command to your CI workflow to upload screenshots to Argos:

```sh
npx @argos-ci/cli upload ./screenshots
```

#### Example

```yml title=".gitlab-ci.yml"
script:
  # ðŸ‘‰ Insert the steps required to take screenshots

  # Upload screenshots to argos-ci.com
  - npx @argos-ci/cli upload ./screenshots
```

<RepositoryExampleLink />

## Enjoy!

<Enjoy />
